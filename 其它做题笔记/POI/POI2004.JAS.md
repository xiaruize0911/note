询问操作等价于将当前的子树从一个点分为几棵树，类似于点分治的操作

所以询问可以转化为原树的最小点分树的大小

然后考虑对于每个点计算一个 $f_x$ 表示答案，$s_x$ 状压一个子树内的所有答案

因为点分治最多 $O(logn)$ 