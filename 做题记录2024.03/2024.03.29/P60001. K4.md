#bitset #
先处理每条边所对应的一个点，即求三元环，然后再计算对应同一条边的两个点的个数

这样是 $\mathcal{O}(n^2)$ 的，用 ``bitset`` 优化，但是空间不允许

考虑每次处理所有点对 $64$ 个点的连接情况，这样就可以开 $\mathcal{O}(n\times 64)$ 的空间

`bitset` 常数较大，可以用 ``ull`` 代替

```cpp
// Author: xiaruize
#ifndef ONLINE_JUDGE
bool start_of_memory_use;
#endif
#include <bits/stdc++.h>
using namespace std;
#ifndef ONLINE_JUDGE
clock_t start_clock = clock();
#endif
#define int long long
#define ull unsigned long long
#define ALL(a) (a).begin(), (a).end()
#define pb push_back
#define mk make_pair
#define pii pair<int, int>
#define pis pair<int, string>
#define sec second
#define fir first
#define sz(a) int((a).size())
#define Yes cout << "Yes" << endl
#define YES cout << "YES" << endl
#define No cout << "No" << endl
#define NO cout << "NO" << endl
#define mms(arr, n) memset(arr, n, sizeof(arr))
#define rep(i, a, n) for (int i = (a); i <= (n); ++i)
#define per(i, n, a) for (int i = (n); i >= (a); --i)
int max(int a, int b)
{
	if (a > b)
		return a;
	return b;
}
int min(int a, int b)
{
	if (a < b)
		return a;
	return b;
}
const int INF = 0x3f3f3f3f3f3f3f3f;
const int MOD = 1000000007;
const int N = 1.1e5 + 10;

int n, m;
vector<int> g[N], e[N];
ull bt[N];
pii eg[N];

void solve()
{
	cin >> n >> m;
	n--;
	m--;
	rep(i, 0, m)
	{
		int u, v;
		cin >> u >> v;
		u--;
		v--;
		eg[i] = {u, v};
		g[u].push_back(v);
		g[v].push_back(u);
	}
	for (int i = 0; i <= n; i += 64)
	{
		rep(j, 0, 63)
		{
			for (auto v : g[i + j])
			{
				bt[v] |= (1ull << j);
			}
		}
		rep(j, 0, m)
		{
			ull s = (bt[eg[j].first] & bt[eg[j].second]);
			while (s)
			{
				e[j].push_back(i + __lg(s & -s));
				s &= (s - 1);
			}
		}
		rep(j, 0, 63)
		{
			for (auto v : g[i + j])
			{
				bt[v] = 0;
			}
		}
	}
	// cerr << "flag" << endl;
	ull res = 0;
	for (int i = 0; i <= m; i += 64)
	{
		rep(j, 0, 63)
		{
			for (auto v : e[i + j])
			{
				bt[v] |= (1ull << j);
			}
		}
		rep(j, 0, m)
		{
			ull s = (bt[eg[j].first] & bt[eg[j].second]);
			res += __builtin_popcountll(s);
		}
		rep(j, 0, 63)
		{
			for (auto v : e[i + j])
			{
				bt[v] = 0;
			}
		}
	}
	cout << "0 0 0 " << res / 6 << endl;
}

#ifndef ONLINE_JUDGE
bool end_of_memory_use;
#endif

signed main()
{
	freopen("kfour.in","r",stdin);
	freopen("kfour.out","w",stdout);
	ios::sync_with_stdio(false);
	cin.tie(0);
	cout.tie(0);
	int testcase = 1;
	// cin >> testcase;
	while (testcase--)
		solve();
#ifndef ONLINE_JUDGE
	cerr << "Memory use:" << (&end_of_memory_use - &start_of_memory_use) / 1024.0 / 1024.0 << "MiB" << endl;
	cerr << "Time use:" << (double)clock() / CLOCKS_PER_SEC * 1000.0 << "ms" << endl;
#endif
	return 0;
}
```