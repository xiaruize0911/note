对左右端点离散化，令 $L=min(r_i),R=max(L_i)$

$dp_i$ 表示将所有碰到 $[L,i]$ 这个区间的连起来的最小代价

可以枚举所有的区间，对于所有的包含 $i$  的区间，因为 $dp$ 单调递增，直接从它的左端点转移

反过来处理 $f_i$  表示连接 $[i,R]$ 这个区间的最小代价

对于每一个区间，总代价有 $2$ 种情况，分别是 $dp_{l_i}$